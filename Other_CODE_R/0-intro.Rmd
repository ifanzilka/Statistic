---
title: "Введение"
author: "<i>Основы программирования на R</i><br><br>Антон Антонов"
output: 
  revealjs::revealjs_presentation:
    theme: serif
    highlight: tango
    center: false
    transition: fade
    pandoc_args: [ 
      "--slide-level", "1", 
      "--include-in-header", "custom.css"
    ]
---

```{r setup, echo=FALSE}
options(width = 110)
```

# Что такое R
>- R -- язык программирования для научных вычислений и анализа данных с упором на визуализацию и воспроизводимость
>- R -- свободное кросс-платформенное программное обеспечение с открытым исходным кодом
>- R -- интерпретируемый язык с интерфейсом командной строки
>- R -- мультипарадигменный язык, сочетающий в себе

. . . 

1. функциональное
2. процедурное
3. объектно-ориентированное
4. рефлекcивное программирование

# Плюсы

>- R бесплатен, его код открыт
>- Огромное количество встроенных статистических тестов, математических алгоритмов, функций для анализа данных в академических и отраслевых исследованиях
>- Расширяемость: модульная система пакетов (packages)
>- Обширное сообщество разработчиков
>- Полностью программируемая высокоуровневая графика
>- Кросс-платформенность, воспроизводимость результатов
>- R становится популярным: статьи, книги, конфереции, юзер группы

# Минусы

>- R достаточно сложен как язык программирования
>- Документация некоторых методов труднодоступна без глубокого знания математических методов и статистических процедур
>- Легко написать плохой (медленный, неподдерживаемый, нечитаемый) код
>- Пакеты дополнений устаревают
>- Можно заметить некоторую непоследовательность в именовании переменных и реализации методов

# Работа в R

>- Собственно язык R: https://www.r-project.org/
>- RStudio (IDE): https://www.rstudio.com
>- Можно (и нужно) вводить команды из презентации
>- Побольше экспериментируйте! Не бойтесь что-то сломать

# Помогите, ничего не работает!

>- Это нормально
>- Внимательно читайте текст ошибок и предупреждений
>- Встроенная справка: `help("sin")`, `help.search("logarithm")`
>- R-FAQ: https://cran.r-project.org/doc/FAQ/R-FAQ.html
>- Пользуйтесь поисковыми системами
>- R Mailing List Archive
>- stackoverflow.com

# Основы основ

>- R -- интерпретируемый язык
>- Команды исполняются построчно
>- Командная строка расположена во вкладке "Console" в RStudio

. . .

```{r}
2 + 1
```

. . .

```{r, eval=FALSE}
sin(pi/6)
```

. . .

```{r, echo=FALSE}
sin(pi/6)
```

# Переменные

. . .

Оператор присваивания: `<-`

```{r}
cats <- 5
dogs <- 2
pets <- cats + dogs
```

. . .

```{r}
pets
```

Не любое имя переменной считается валидным!

# Глобальное окружение

>- Каждая переменная живёт в собственном _окружении_
>- Окружение переменной -- это пространство, где её можно найти
>- Все переменные, созданные в консоли, попадают в _глобальное окружение_
>- Переменные из глобального окружения доступны во вкладке "Environment" в RStudio

. . .

```{r}
ls()
```

# Вызов функций

. . . 

В R определено множество встроенных функций, например `rnorm`

```{r}
?rnorm
```

. . .

```{r}
rnorm(15)
```

. . .

Аргументы функций можно указывать по имени

```{r}
rnorm(15, mean = 5, sd = 3)
```

# Написание функций

. . .

Ключевое слово `function`: в круглых скобках _аргументы_ функции, в фигурных -- _тело_ функции (её код)

. . .

```{r}
returntwo <- function() { 
  y <- 2
  return(y)
}

returntwo()
```

# Окружения функций

. . .

```{r}
addten <- function(x) { 
  x <- x + 10
}

addten(cats)
cats
```

. . .

```{r}
addten <- function(x) { 
  return(x + 10)
}

morecats <- addten(cats)
morecats
```

# Окружения функций

. . .

Существует оператор "глобального присваивания", `<<-`

```{r}
addten <- function(x) { 
  moredogs <<- x + 10
}

addten(dogs)
dogs
moredogs
```

>- Функция со _сторонним эффектом_ (side effect)
>- Подобная практика в большинстве случаев считается сомнительной

# Удаление переменных из окружения

. . .

```{r}
ls()
```

. . .

```{r}
rm(dogs)
rm(moredogs)
ls()
```

. . .

```{r}
rm(list = ls())
ls()
```

Будьте аккуратны при удалении переменных!

# Глоссарий

. . .

`?help`, `?help.search`

``?`<-` ``, `?ls`

``?`function` ``

`?rm`