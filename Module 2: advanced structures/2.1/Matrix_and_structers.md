# [Back](https://github.com/ifanzilka/Statistic_for_R/blob/main/Module%202:%20advanced%20structures/module2.md)

  ## Матрица
Матрица – двумерный массив данных одного типа

По сути, это вектор, уложенный по столбцам (!)

Для создания матрицы можно использовать функцию matrix

    matrix(1:6, nrow = 2, ncol = 3)
 #
    ##      [,1] [,2] [,3]
    ## [1,]    1    3    5
    ## [2,]    2    4    6


## Создание матриц

Избавимся от ненужной избыточности:

    matrix(1:6, nrow = 2)
#
    ##      [,1] [,2] [,3]  
    ## [1,]    1    3    5
    ## [2,]    2    4    6
Упокуем по строчкам

    matrix(1:6, nrow = 2, byrow = TRUE)
#
    ##      [,1] [,2] [,3]
    ## [1,]    1    2    3
    ## [2,]    4    5    6

Или так

    matrix(7:8, nrow = 2, ncol = 5)
#

    ##      [,1] [,2] [,3] [,4] [,5]
    ## [1,]    7    7    7    7    7
    ## [2,]    8    8    8    8    8


## Атрибут dim

    m <- matrix(1:6, ncol = 3)
    dim(m)
#
    ## [1] 2 3
Или так посмотреть размеры

    c(nrow(m), ncol(m))
#
    ## [1] 2 3

Превращаем в вектор:

    dim(m) <- NULL; m 
#
    ## [1] 1 2 3 4 5 6

Или так :
    
    dim(m) <- c(2, 3); m
#

    ##      [,1] [,2] [,3]
    ## [1,]    1    3    5
    ## [2,]    2    4    6


## Арифметические операторы

Действуют поэлементно, с учётом правил преписывания:

    m1 <- matrix(1:4, nrow = 2) 
    m2 <- matrix(c(1, 2, 2, 3), nrow = 2)
    m1 + m2
#
    ##      [,1] [,2]
    ## [1,]    2    5
    ## [2,]    4    7
Еще :
  
    m1 + 5
#
    ##      [,1] [,2]
    ## [1,]    6    8
    ## [2,]    7    9



## Арифметические операторы2
Умножение на число

    m1 * 2
#
    ##      [,1] [,2]
    ## [1,]    2    6
    ## [2,]    4    8

Умножение поэлементно
  
    m1 * m2
#
    ##      [,1] [,2]
    ## [1,]    1    6
    ## [2,]    4   12

Умножение в смысле линейной алгебры:

    m1 %*% m2
#
    ##      [,1] [,2]
    ## [1,]    7   11
    ## [2,]   10   16

|a1    b1|        |c1    d1|          |a1c1 + b1c2    a1d1 + b1d2|

|        |   *    |        |    =     |                          |

|a2    b2|        |c2    d2|          |a2c1 + b2c2    a2d1 + b2d2|

## Индексирование матриц

Те же правила, что и для векторов, но с учётом двух размерностей:

    m <- matrix(1:10, ncol = 5)
    m[1, 3]
#
    ## [1] 5

Или так
    
    m[2, ]
#
    ## [1]  2  4  6  8 10
or

    m[, 4]
#
    ## [1] 7 8

